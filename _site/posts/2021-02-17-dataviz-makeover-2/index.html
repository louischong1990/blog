<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">

<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1"/>
  <meta name="generator" content="distill" />

  <style type="text/css">
  /* Hide doc at startup (prevent jankiness while JS renders/transforms) */
  body {
    visibility: hidden;
  }
  </style>

 <!--radix_placeholder_import_source-->
 <!--/radix_placeholder_import_source-->

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ad0000; } /* Alert */
code span.an { color: #5e5e5e; } /* Annotation */
code span.at { color: #20794d; } /* Attribute */
code span.bn { color: #ad0000; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007ba5; } /* ControlFlow */
code span.ch { color: #20794d; } /* Char */
code span.cn { color: #8f5902; } /* Constant */
code span.co { color: #5e5e5e; } /* Comment */
code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
code span.dt { color: #ad0000; } /* DataType */
code span.dv { color: #ad0000; } /* DecVal */
code span.er { color: #ad0000; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #ad0000; } /* Float */
code span.fu { color: #4758ab; } /* Function */
code span.im { } /* Import */
code span.in { color: #5e5e5e; } /* Information */
code span.kw { color: #007ba5; } /* Keyword */
code span.op { color: #5e5e5e; } /* Operator */
code span.ot { color: #007ba5; } /* Other */
code span.pp { color: #ad0000; } /* Preprocessor */
code span.sc { color: #20794d; } /* SpecialChar */
code span.ss { color: #20794d; } /* SpecialString */
code span.st { color: #20794d; } /* String */
code span.va { color: #111111; } /* Variable */
code span.vs { color: #20794d; } /* VerbatimString */
code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
</style>

  <!--radix_placeholder_meta_tags-->
<title>IDEA: ISSS608 Visual Analytics - DataViz Makeover 2</title>

<meta property="description" itemprop="description" content="Analysis of Data Visualisation on Public Willingness on Covid-19 Vaccination."/>


<!--  https://schema.org/Article -->
<meta property="article:published" itemprop="datePublished" content="2021-02-17"/>
<meta property="article:created" itemprop="dateCreated" content="2021-02-17"/>
<meta name="article:author" content="Louis Chong Jia Jun (louis.chong.2019@mitb.smu.edu.sg)"/>

<!--  https://developers.facebook.com/docs/sharing/webmasters#markup -->
<meta property="og:title" content="IDEA: ISSS608 Visual Analytics - DataViz Makeover 2"/>
<meta property="og:type" content="article"/>
<meta property="og:description" content="Analysis of Data Visualisation on Public Willingness on Covid-19 Vaccination."/>
<meta property="og:locale" content="en_US"/>
<meta property="og:site_name" content="IDEA"/>

<!--  https://dev.twitter.com/cards/types/summary -->
<meta property="twitter:card" content="summary"/>
<meta property="twitter:title" content="IDEA: ISSS608 Visual Analytics - DataViz Makeover 2"/>
<meta property="twitter:description" content="Analysis of Data Visualisation on Public Willingness on Covid-19 Vaccination."/>

<!--/radix_placeholder_meta_tags-->
  <!--radix_placeholder_rmarkdown_metadata-->

<script type="text/json" id="radix-rmarkdown-metadata">
{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["title","description","author","date","output"]}},"value":[{"type":"character","attributes":{},"value":["ISSS608 Visual Analytics - DataViz Makeover 2"]},{"type":"character","attributes":{},"value":["Analysis of Data Visualisation on Public Willingness on Covid-19 Vaccination."]},{"type":"list","attributes":{},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","url"]}},"value":[{"type":"character","attributes":{},"value":["Louis Chong Jia Jun (louis.chong.2019@mitb.smu.edu.sg)"]},{"type":"character","attributes":{},"value":["https://www.linkedin.com/in/louis-chong-jia-jun"]}]}]},{"type":"character","attributes":{},"value":["02-17-2021"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["distill::distill_article"]}},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["self_contained"]}},"value":[{"type":"logical","attributes":{},"value":[false]}]}]}]}
</script>
<!--/radix_placeholder_rmarkdown_metadata-->
  
  <script type="text/json" id="radix-resource-manifest">
  {"type":"character","attributes":{},"value":["dataviz-makeover-2_files/anchor-4.2.2/anchor.min.js","dataviz-makeover-2_files/bowser-1.9.3/bowser.min.js","dataviz-makeover-2_files/distill-2.2.21/template.v2.js","dataviz-makeover-2_files/header-attrs-2.6/header-attrs.js","dataviz-makeover-2_files/jquery-1.11.3/jquery.min.js","dataviz-makeover-2_files/popper-2.6.0/popper.min.js","dataviz-makeover-2_files/tippy-6.2.7/tippy-bundle.umd.min.js","dataviz-makeover-2_files/tippy-6.2.7/tippy-light-border.css","dataviz-makeover-2_files/tippy-6.2.7/tippy.css","dataviz-makeover-2_files/tippy-6.2.7/tippy.umd.min.js","dataviz-makeover-2_files/webcomponents-2.0.0/webcomponents.js"]}
  </script>
  <!--radix_placeholder_navigation_in_header-->
<meta name="distill:offset" content="../.."/>

<script type="application/javascript">

  window.headroom_prevent_pin = false;

  window.document.addEventListener("DOMContentLoaded", function (event) {

    // initialize headroom for banner
    var header = $('header').get(0);
    var headerHeight = header.offsetHeight;
    var headroom = new Headroom(header, {
      tolerance: 5,
      onPin : function() {
        if (window.headroom_prevent_pin) {
          window.headroom_prevent_pin = false;
          headroom.unpin();
        }
      }
    });
    headroom.init();
    if(window.location.hash)
      headroom.unpin();
    $(header).addClass('headroom--transition');

    // offset scroll location for banner on hash change
    // (see: https://github.com/WickyNilliams/headroom.js/issues/38)
    window.addEventListener("hashchange", function(event) {
      window.scrollTo(0, window.pageYOffset - (headerHeight + 25));
    });

    // responsive menu
    $('.distill-site-header').each(function(i, val) {
      var topnav = $(this);
      var toggle = topnav.find('.nav-toggle');
      toggle.on('click', function() {
        topnav.toggleClass('responsive');
      });
    });

    // nav dropdowns
    $('.nav-dropbtn').click(function(e) {
      $(this).next('.nav-dropdown-content').toggleClass('nav-dropdown-active');
      $(this).parent().siblings('.nav-dropdown')
         .children('.nav-dropdown-content').removeClass('nav-dropdown-active');
    });
    $("body").click(function(e){
      $('.nav-dropdown-content').removeClass('nav-dropdown-active');
    });
    $(".nav-dropdown").click(function(e){
      e.stopPropagation();
    });
  });
</script>

<style type="text/css">

/* Theme (user-documented overrideables for nav appearance) */

.distill-site-nav {
  color: rgba(255, 255, 255, 0.8);
  background-color: #0F2E3D;
  font-size: 15px;
  font-weight: 300;
}

.distill-site-nav a {
  color: inherit;
  text-decoration: none;
}

.distill-site-nav a:hover {
  color: white;
}

@media print {
  .distill-site-nav {
    display: none;
  }
}

.distill-site-header {

}

.distill-site-footer {

}


/* Site Header */

.distill-site-header {
  width: 100%;
  box-sizing: border-box;
  z-index: 3;
}

.distill-site-header .nav-left {
  display: inline-block;
  margin-left: 8px;
}

@media screen and (max-width: 768px) {
  .distill-site-header .nav-left {
    margin-left: 0;
  }
}


.distill-site-header .nav-right {
  float: right;
  margin-right: 8px;
}

.distill-site-header a,
.distill-site-header .title {
  display: inline-block;
  text-align: center;
  padding: 14px 10px 14px 10px;
}

.distill-site-header .title {
  font-size: 18px;
  min-width: 150px;
}

.distill-site-header .logo {
  padding: 0;
}

.distill-site-header .logo img {
  display: none;
  max-height: 20px;
  width: auto;
  margin-bottom: -4px;
}

.distill-site-header .nav-image img {
  max-height: 18px;
  width: auto;
  display: inline-block;
  margin-bottom: -3px;
}



@media screen and (min-width: 1000px) {
  .distill-site-header .logo img {
    display: inline-block;
  }
  .distill-site-header .nav-left {
    margin-left: 20px;
  }
  .distill-site-header .nav-right {
    margin-right: 20px;
  }
  .distill-site-header .title {
    padding-left: 12px;
  }
}


.distill-site-header .nav-toggle {
  display: none;
}

.nav-dropdown {
  display: inline-block;
  position: relative;
}

.nav-dropdown .nav-dropbtn {
  border: none;
  outline: none;
  color: rgba(255, 255, 255, 0.8);
  padding: 16px 10px;
  background-color: transparent;
  font-family: inherit;
  font-size: inherit;
  font-weight: inherit;
  margin: 0;
  margin-top: 1px;
  z-index: 2;
}

.nav-dropdown-content {
  display: none;
  position: absolute;
  background-color: white;
  min-width: 200px;
  border: 1px solid rgba(0,0,0,0.15);
  border-radius: 4px;
  box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.1);
  z-index: 1;
  margin-top: 2px;
  white-space: nowrap;
  padding-top: 4px;
  padding-bottom: 4px;
}

.nav-dropdown-content hr {
  margin-top: 4px;
  margin-bottom: 4px;
  border: none;
  border-bottom: 1px solid rgba(0, 0, 0, 0.1);
}

.nav-dropdown-active {
  display: block;
}

.nav-dropdown-content a, .nav-dropdown-content .nav-dropdown-header {
  color: black;
  padding: 6px 24px;
  text-decoration: none;
  display: block;
  text-align: left;
}

.nav-dropdown-content .nav-dropdown-header {
  display: block;
  padding: 5px 24px;
  padding-bottom: 0;
  text-transform: uppercase;
  font-size: 14px;
  color: #999999;
  white-space: nowrap;
}

.nav-dropdown:hover .nav-dropbtn {
  color: white;
}

.nav-dropdown-content a:hover {
  background-color: #ddd;
  color: black;
}

.nav-right .nav-dropdown-content {
  margin-left: -45%;
  right: 0;
}

@media screen and (max-width: 768px) {
  .distill-site-header a, .distill-site-header .nav-dropdown  {display: none;}
  .distill-site-header a.nav-toggle {
    float: right;
    display: block;
  }
  .distill-site-header .title {
    margin-left: 0;
  }
  .distill-site-header .nav-right {
    margin-right: 0;
  }
  .distill-site-header {
    overflow: hidden;
  }
  .nav-right .nav-dropdown-content {
    margin-left: 0;
  }
}


@media screen and (max-width: 768px) {
  .distill-site-header.responsive {position: relative; min-height: 500px; }
  .distill-site-header.responsive a.nav-toggle {
    position: absolute;
    right: 0;
    top: 0;
  }
  .distill-site-header.responsive a,
  .distill-site-header.responsive .nav-dropdown {
    display: block;
    text-align: left;
  }
  .distill-site-header.responsive .nav-left,
  .distill-site-header.responsive .nav-right {
    width: 100%;
  }
  .distill-site-header.responsive .nav-dropdown {float: none;}
  .distill-site-header.responsive .nav-dropdown-content {position: relative;}
  .distill-site-header.responsive .nav-dropdown .nav-dropbtn {
    display: block;
    width: 100%;
    text-align: left;
  }
}

/* Site Footer */

.distill-site-footer {
  width: 100%;
  overflow: hidden;
  box-sizing: border-box;
  z-index: 3;
  margin-top: 30px;
  padding-top: 30px;
  padding-bottom: 30px;
  text-align: center;
}

/* Headroom */

d-title {
  padding-top: 6rem;
}

@media print {
  d-title {
    padding-top: 4rem;
  }
}

.headroom {
  z-index: 1000;
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
}

.headroom--transition {
  transition: all .4s ease-in-out;
}

.headroom--unpinned {
  top: -100px;
}

.headroom--pinned {
  top: 0;
}

/* adjust viewport for navbar height */
/* helps vertically center bootstrap (non-distill) content */
.min-vh-100 {
  min-height: calc(100vh - 100px) !important;
}

</style>

<script src="../../site_libs/jquery-1.11.3/jquery.min.js"></script>
<link href="../../site_libs/font-awesome-5.1.0/css/all.css" rel="stylesheet"/>
<link href="../../site_libs/font-awesome-5.1.0/css/v4-shims.css" rel="stylesheet"/>
<script src="../../site_libs/headroom-0.9.4/headroom.min.js"></script>
<script src="../../site_libs/autocomplete-0.37.1/autocomplete.min.js"></script>
<script src="../../site_libs/fuse-6.4.1/fuse.min.js"></script>

<script type="application/javascript">

function getMeta(metaName) {
  var metas = document.getElementsByTagName('meta');
  for (let i = 0; i < metas.length; i++) {
    if (metas[i].getAttribute('name') === metaName) {
      return metas[i].getAttribute('content');
    }
  }
  return '';
}

function offsetURL(url) {
  var offset = getMeta('distill:offset');
  return offset ? offset + '/' + url : url;
}

function createFuseIndex() {

  // create fuse index
  var options = {
    keys: [
      { name: 'title', weight: 20 },
      { name: 'categories', weight: 15 },
      { name: 'description', weight: 10 },
      { name: 'contents', weight: 5 },
    ],
    ignoreLocation: true,
    threshold: 0
  };
  var fuse = new window.Fuse([], options);

  // fetch the main search.json
  return fetch(offsetURL('search.json'))
    .then(function(response) {
      if (response.status == 200) {
        return response.json().then(function(json) {
          // index main articles
          json.articles.forEach(function(article) {
            fuse.add(article);
          });
          // download collections and index their articles
          return Promise.all(json.collections.map(function(collection) {
            return fetch(offsetURL(collection)).then(function(response) {
              if (response.status === 200) {
                return response.json().then(function(articles) {
                  articles.forEach(function(article) {
                    fuse.add(article);
                  });
                })
              } else {
                return Promise.reject(
                  new Error('Unexpected status from search index request: ' +
                            response.status)
                );
              }
            });
          })).then(function() {
            return fuse;
          });
        });

      } else {
        return Promise.reject(
          new Error('Unexpected status from search index request: ' +
                      response.status)
        );
      }
    });
}

window.document.addEventListener("DOMContentLoaded", function (event) {

  // get search element (bail if we don't have one)
  var searchEl = window.document.getElementById('distill-search');
  if (!searchEl)
    return;

  createFuseIndex()
    .then(function(fuse) {

      // make search box visible
      searchEl.classList.remove('hidden');

      // initialize autocomplete
      var options = {
        autoselect: true,
        hint: false,
        minLength: 2,
      };
      window.autocomplete(searchEl, options, [{
        source: function(query, callback) {
          const searchOptions = {
            isCaseSensitive: false,
            shouldSort: true,
            minMatchCharLength: 2,
            limit: 10,
          };
          var results = fuse.search(query, searchOptions);
          callback(results
            .map(function(result) { return result.item; })
          );
        },
        templates: {
          suggestion: function(suggestion) {
            var img = suggestion.preview && Object.keys(suggestion.preview).length > 0
              ? `<img src="${offsetURL(suggestion.preview)}"</img>`
              : '';
            var html = `
              <div class="search-item">
                <h3>${suggestion.title}</h3>
                <div class="search-item-description">
                  ${suggestion.description || ''}
                </div>
                <div class="search-item-preview">
                  ${img}
                </div>
              </div>
            `;
            return html;
          }
        }
      }]).on('autocomplete:selected', function(event, suggestion) {
        window.location.href = offsetURL(suggestion.path);
      });
      // remove inline display style on autocompleter (we want to
      // manage responsive display via css)
      $('.algolia-autocomplete').css("display", "");
    })
    .catch(function(error) {
      console.log(error);
    });

});

</script>

<style type="text/css">

.nav-search {
  font-size: x-small;
}

/* Algolioa Autocomplete */

.algolia-autocomplete {
  display: inline-block;
  margin-left: 10px;
  vertical-align: sub;
  background-color: white;
  color: black;
  padding: 6px;
  padding-top: 8px;
  padding-bottom: 0;
  border-radius: 6px;
  border: 1px #0F2E3D solid;
  width: 180px;
}


@media screen and (max-width: 768px) {
  .distill-site-nav .algolia-autocomplete {
    display: none;
    visibility: hidden;
  }
  .distill-site-nav.responsive .algolia-autocomplete {
    display: inline-block;
    visibility: visible;
  }
  .distill-site-nav.responsive .algolia-autocomplete .aa-dropdown-menu {
    margin-left: 0;
    width: 400px;
    max-height: 400px;
  }
}

.algolia-autocomplete .aa-input, .algolia-autocomplete .aa-hint {
  width: 90%;
  outline: none;
  border: none;
}

.algolia-autocomplete .aa-hint {
  color: #999;
}
.algolia-autocomplete .aa-dropdown-menu {
  width: 550px;
  max-height: 70vh;
  overflow-x: visible;
  overflow-y: scroll;
  padding: 5px;
  margin-top: 3px;
  margin-left: -150px;
  background-color: #fff;
  border-radius: 5px;
  border: 1px solid #999;
  border-top: none;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion {
  cursor: pointer;
  padding: 5px 4px;
  border-bottom: 1px solid #eee;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion:last-of-type {
  border-bottom: none;
  margin-bottom: 2px;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item {
  overflow: hidden;
  font-size: 0.8em;
  line-height: 1.4em;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item h3 {
  font-size: 1rem;
  margin-block-start: 0;
  margin-block-end: 5px;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item-description {
  display: inline-block;
  overflow: hidden;
  height: 2.8em;
  width: 80%;
  margin-right: 4%;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item-preview {
  display: inline-block;
  width: 15%;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item-preview img {
  height: 3em;
  width: auto;
  display: none;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item-preview img[src] {
  display: initial;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion.aa-cursor {
  background-color: #eee;
}
.algolia-autocomplete .aa-dropdown-menu .aa-suggestion em {
  font-weight: bold;
  font-style: normal;
}

</style>


<!--/radix_placeholder_navigation_in_header-->
  <!--radix_placeholder_distill-->

<style type="text/css">

body {
  background-color: white;
}

.pandoc-table {
  width: 100%;
}

.pandoc-table>caption {
  margin-bottom: 10px;
}

.pandoc-table th:not([align]) {
  text-align: left;
}

.pagedtable-footer {
  font-size: 15px;
}

d-byline .byline {
  grid-template-columns: 2fr 2fr;
}

d-byline .byline h3 {
  margin-block-start: 1.5em;
}

d-byline .byline .authors-affiliations h3 {
  margin-block-start: 0.5em;
}

.authors-affiliations .orcid-id {
  width: 16px;
  height:16px;
  margin-left: 4px;
  margin-right: 4px;
  vertical-align: middle;
  padding-bottom: 2px;
}

d-title .dt-tags {
  margin-top: 1em;
  grid-column: text;
}

.dt-tags .dt-tag {
  text-decoration: none;
  display: inline-block;
  color: rgba(0,0,0,0.6);
  padding: 0em 0.4em;
  margin-right: 0.5em;
  margin-bottom: 0.4em;
  font-size: 70%;
  border: 1px solid rgba(0,0,0,0.2);
  border-radius: 3px;
  text-transform: uppercase;
  font-weight: 500;
}

d-article table.gt_table td,
d-article table.gt_table th {
  border-bottom: none;
}

.html-widget {
  margin-bottom: 2.0em;
}

.l-screen-inset {
  padding-right: 16px;
}

.l-screen .caption {
  margin-left: 10px;
}

.shaded {
  background: rgb(247, 247, 247);
  padding-top: 20px;
  padding-bottom: 20px;
  border-top: 1px solid rgba(0, 0, 0, 0.1);
  border-bottom: 1px solid rgba(0, 0, 0, 0.1);
}

.shaded .html-widget {
  margin-bottom: 0;
  border: 1px solid rgba(0, 0, 0, 0.1);
}

.shaded .shaded-content {
  background: white;
}

.text-output {
  margin-top: 0;
  line-height: 1.5em;
}

.hidden {
  display: none !important;
}

d-article {
  padding-top: 2.5rem;
  padding-bottom: 30px;
}

d-appendix {
  padding-top: 30px;
}

d-article>p>img {
  width: 100%;
}

d-article h2 {
  margin: 1rem 0 1.5rem 0;
}

d-article h3 {
  margin-top: 1.5rem;
}

d-article iframe {
  border: 1px solid rgba(0, 0, 0, 0.1);
  margin-bottom: 2.0em;
  width: 100%;
}

/* Tweak code blocks */

d-article div.sourceCode code,
d-article pre code {
  font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
}

d-article pre,
d-article div.sourceCode,
d-article div.sourceCode pre {
  overflow: auto;
}

d-article div.sourceCode {
  background-color: white;
}

d-article div.sourceCode pre {
  padding-left: 10px;
  font-size: 12px;
  border-left: 2px solid rgba(0,0,0,0.1);
}

d-article pre {
  font-size: 12px;
  color: black;
  background: none;
  margin-top: 0;
  text-align: left;
  white-space: pre;
  word-spacing: normal;
  word-break: normal;
  word-wrap: normal;
  line-height: 1.5;

  -moz-tab-size: 4;
  -o-tab-size: 4;
  tab-size: 4;

  -webkit-hyphens: none;
  -moz-hyphens: none;
  -ms-hyphens: none;
  hyphens: none;
}

d-article pre a {
  border-bottom: none;
}

d-article pre a:hover {
  border-bottom: none;
  text-decoration: underline;
}

d-article details {
  grid-column: text;
  margin-bottom: 0.8em;
}

@media(min-width: 768px) {

d-article pre,
d-article div.sourceCode,
d-article div.sourceCode pre {
  overflow: visible !important;
}

d-article div.sourceCode pre {
  padding-left: 18px;
  font-size: 14px;
}

d-article pre {
  font-size: 14px;
}

}

figure img.external {
  background: white;
  border: 1px solid rgba(0, 0, 0, 0.1);
  box-shadow: 0 1px 8px rgba(0, 0, 0, 0.1);
  padding: 18px;
  box-sizing: border-box;
}

/* CSS for d-contents */

.d-contents {
  grid-column: text;
  color: rgba(0,0,0,0.8);
  font-size: 0.9em;
  padding-bottom: 1em;
  margin-bottom: 1em;
  padding-bottom: 0.5em;
  margin-bottom: 1em;
  padding-left: 0.25em;
  justify-self: start;
}

@media(min-width: 1000px) {
  .d-contents.d-contents-float {
    height: 0;
    grid-column-start: 1;
    grid-column-end: 4;
    justify-self: center;
    padding-right: 3em;
    padding-left: 2em;
  }
}

.d-contents nav h3 {
  font-size: 18px;
  margin-top: 0;
  margin-bottom: 1em;
}

.d-contents li {
  list-style-type: none
}

.d-contents nav > ul {
  padding-left: 0;
}

.d-contents ul {
  padding-left: 1em
}

.d-contents nav ul li {
  margin-top: 0.6em;
  margin-bottom: 0.2em;
}

.d-contents nav a {
  font-size: 13px;
  border-bottom: none;
  text-decoration: none
  color: rgba(0, 0, 0, 0.8);
}

.d-contents nav a:hover {
  text-decoration: underline solid rgba(0, 0, 0, 0.6)
}

.d-contents nav > ul > li > a {
  font-weight: 600;
}

.d-contents nav > ul > li > ul {
  font-weight: inherit;
}

.d-contents nav > ul > li > ul > li {
  margin-top: 0.2em;
}


.d-contents nav ul {
  margin-top: 0;
  margin-bottom: 0.25em;
}

.d-article-with-toc h2:nth-child(2) {
  margin-top: 0;
}


/* Figure */

.figure {
  position: relative;
  margin-bottom: 2.5em;
  margin-top: 1.5em;
}

.figure img {
  width: 100%;
}

.figure .caption {
  color: rgba(0, 0, 0, 0.6);
  font-size: 12px;
  line-height: 1.5em;
}

.figure img.external {
  background: white;
  border: 1px solid rgba(0, 0, 0, 0.1);
  box-shadow: 0 1px 8px rgba(0, 0, 0, 0.1);
  padding: 18px;
  box-sizing: border-box;
}

.figure .caption a {
  color: rgba(0, 0, 0, 0.6);
}

.figure .caption b,
.figure .caption strong, {
  font-weight: 600;
  color: rgba(0, 0, 0, 1.0);
}

/* Citations */

d-article .citation {
  color: inherit;
  cursor: inherit;
}

div.hanging-indent{
  margin-left: 1em; text-indent: -1em;
}

/* Citation hover box */

.tippy-box[data-theme~=light-border] {
  background-color: rgba(250, 250, 250, 0.95);
}

.tippy-content > p {
  margin-bottom: 0;
  padding: 2px;
}


/* Tweak 1000px media break to show more text */

@media(min-width: 1000px) {
  .base-grid,
  distill-header,
  d-title,
  d-abstract,
  d-article,
  d-appendix,
  distill-appendix,
  d-byline,
  d-footnote-list,
  d-citation-list,
  distill-footer {
    grid-template-columns: [screen-start] 1fr [page-start kicker-start] 80px [middle-start] 50px [text-start kicker-end] 65px 65px 65px 65px 65px 65px 65px 65px [text-end gutter-start] 65px [middle-end] 65px [page-end gutter-end] 1fr [screen-end];
    grid-column-gap: 16px;
  }

  .grid {
    grid-column-gap: 16px;
  }

  d-article {
    font-size: 1.06rem;
    line-height: 1.7em;
  }
  figure .caption, .figure .caption, figure figcaption {
    font-size: 13px;
  }
}

@media(min-width: 1180px) {
  .base-grid,
  distill-header,
  d-title,
  d-abstract,
  d-article,
  d-appendix,
  distill-appendix,
  d-byline,
  d-footnote-list,
  d-citation-list,
  distill-footer {
    grid-template-columns: [screen-start] 1fr [page-start kicker-start] 60px [middle-start] 60px [text-start kicker-end] 60px 60px 60px 60px 60px 60px 60px 60px [text-end gutter-start] 60px [middle-end] 60px [page-end gutter-end] 1fr [screen-end];
    grid-column-gap: 32px;
  }

  .grid {
    grid-column-gap: 32px;
  }
}


/* Get the citation styles for the appendix (not auto-injected on render since
   we do our own rendering of the citation appendix) */

d-appendix .citation-appendix,
.d-appendix .citation-appendix {
  font-size: 11px;
  line-height: 15px;
  border-left: 1px solid rgba(0, 0, 0, 0.1);
  padding-left: 18px;
  border: 1px solid rgba(0,0,0,0.1);
  background: rgba(0, 0, 0, 0.02);
  padding: 10px 18px;
  border-radius: 3px;
  color: rgba(150, 150, 150, 1);
  overflow: hidden;
  margin-top: -12px;
  white-space: pre-wrap;
  word-wrap: break-word;
}

/* Include appendix styles here so they can be overridden */

d-appendix {
  contain: layout style;
  font-size: 0.8em;
  line-height: 1.7em;
  margin-top: 60px;
  margin-bottom: 0;
  border-top: 1px solid rgba(0, 0, 0, 0.1);
  color: rgba(0,0,0,0.5);
  padding-top: 60px;
  padding-bottom: 48px;
}

d-appendix h3 {
  grid-column: page-start / text-start;
  font-size: 15px;
  font-weight: 500;
  margin-top: 1em;
  margin-bottom: 0;
  color: rgba(0,0,0,0.65);
}

d-appendix h3 + * {
  margin-top: 1em;
}

d-appendix ol {
  padding: 0 0 0 15px;
}

@media (min-width: 768px) {
  d-appendix ol {
    padding: 0 0 0 30px;
    margin-left: -30px;
  }
}

d-appendix li {
  margin-bottom: 1em;
}

d-appendix a {
  color: rgba(0, 0, 0, 0.6);
}

d-appendix > * {
  grid-column: text;
}

d-appendix > d-footnote-list,
d-appendix > d-citation-list,
d-appendix > distill-appendix {
  grid-column: screen;
}

/* Include footnote styles here so they can be overridden */

d-footnote-list {
  contain: layout style;
}

d-footnote-list > * {
  grid-column: text;
}

d-footnote-list a.footnote-backlink {
  color: rgba(0,0,0,0.3);
  padding-left: 0.5em;
}



/* Anchor.js */

.anchorjs-link {
  /*transition: all .25s linear; */
  text-decoration: none;
  border-bottom: none;
}
*:hover > .anchorjs-link {
  margin-left: -1.125em !important;
  text-decoration: none;
  border-bottom: none;
}

/* Social footer */

.social_footer {
  margin-top: 30px;
  margin-bottom: 0;
  color: rgba(0,0,0,0.67);
}

.disqus-comments {
  margin-right: 30px;
}

.disqus-comment-count {
  border-bottom: 1px solid rgba(0, 0, 0, 0.4);
  cursor: pointer;
}

#disqus_thread {
  margin-top: 30px;
}

.article-sharing a {
  border-bottom: none;
  margin-right: 8px;
}

.article-sharing a:hover {
  border-bottom: none;
}

.sidebar-section.subscribe {
  font-size: 12px;
  line-height: 1.6em;
}

.subscribe p {
  margin-bottom: 0.5em;
}


.article-footer .subscribe {
  font-size: 15px;
  margin-top: 45px;
}


.sidebar-section.custom {
  font-size: 12px;
  line-height: 1.6em;
}

.custom p {
  margin-bottom: 0.5em;
}

/* Styles for listing layout (hide title) */
.layout-listing d-title, .layout-listing .d-title {
  display: none;
}

/* Styles for posts lists (not auto-injected) */


.posts-with-sidebar {
  padding-left: 45px;
  padding-right: 45px;
}

.posts-list .description h2,
.posts-list .description p {
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
}

.posts-list .description h2 {
  font-weight: 700;
  border-bottom: none;
  padding-bottom: 0;
}

.posts-list h2.post-tag {
  border-bottom: 1px solid rgba(0, 0, 0, 0.2);
  padding-bottom: 12px;
}
.posts-list {
  margin-top: 60px;
  margin-bottom: 24px;
}

.posts-list .post-preview {
  text-decoration: none;
  overflow: hidden;
  display: block;
  border-bottom: 1px solid rgba(0, 0, 0, 0.1);
  padding: 24px 0;
}

.post-preview-last {
  border-bottom: none !important;
}

.posts-list .posts-list-caption {
  grid-column: screen;
  font-weight: 400;
}

.posts-list .post-preview h2 {
  margin: 0 0 6px 0;
  line-height: 1.2em;
  font-style: normal;
  font-size: 24px;
}

.posts-list .post-preview p {
  margin: 0 0 12px 0;
  line-height: 1.4em;
  font-size: 16px;
}

.posts-list .post-preview .thumbnail {
  box-sizing: border-box;
  margin-bottom: 24px;
  position: relative;
  max-width: 500px;
}
.posts-list .post-preview img {
  width: 100%;
  display: block;
}

.posts-list .metadata {
  font-size: 12px;
  line-height: 1.4em;
  margin-bottom: 18px;
}

.posts-list .metadata > * {
  display: inline-block;
}

.posts-list .metadata .publishedDate {
  margin-right: 2em;
}

.posts-list .metadata .dt-authors {
  display: block;
  margin-top: 0.3em;
  margin-right: 2em;
}

.posts-list .dt-tags {
  display: block;
  line-height: 1em;
}

.posts-list .dt-tags .dt-tag {
  display: inline-block;
  color: rgba(0,0,0,0.6);
  padding: 0.3em 0.4em;
  margin-right: 0.2em;
  margin-bottom: 0.4em;
  font-size: 60%;
  border: 1px solid rgba(0,0,0,0.2);
  border-radius: 3px;
  text-transform: uppercase;
  font-weight: 500;
}

.posts-list img {
  opacity: 1;
}

.posts-list img[data-src] {
  opacity: 0;
}

.posts-more {
  clear: both;
}


.posts-sidebar {
  font-size: 16px;
}

.posts-sidebar h3 {
  font-size: 16px;
  margin-top: 0;
  margin-bottom: 0.5em;
  font-weight: 400;
  text-transform: uppercase;
}

.sidebar-section {
  margin-bottom: 30px;
}

.categories ul {
  list-style-type: none;
  margin: 0;
  padding: 0;
}

.categories li {
  color: rgba(0, 0, 0, 0.8);
  margin-bottom: 0;
}

.categories li>a {
  border-bottom: none;
}

.categories li>a:hover {
  border-bottom: 1px solid rgba(0, 0, 0, 0.4);
}

.categories .active {
  font-weight: 600;
}

.categories .category-count {
  color: rgba(0, 0, 0, 0.4);
}


@media(min-width: 768px) {
  .posts-list .post-preview h2 {
    font-size: 26px;
  }
  .posts-list .post-preview .thumbnail {
    float: right;
    width: 30%;
    margin-bottom: 0;
  }
  .posts-list .post-preview .description {
    float: left;
    width: 45%;
  }
  .posts-list .post-preview .metadata {
    float: left;
    width: 20%;
    margin-top: 8px;
  }
  .posts-list .post-preview p {
    margin: 0 0 12px 0;
    line-height: 1.5em;
    font-size: 16px;
  }
  .posts-with-sidebar .posts-list {
    float: left;
    width: 75%;
  }
  .posts-with-sidebar .posts-sidebar {
    float: right;
    width: 20%;
    margin-top: 60px;
    padding-top: 24px;
    padding-bottom: 24px;
  }
}


/* Improve display for browsers without grid (IE/Edge <= 15) */

.downlevel {
  line-height: 1.6em;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
  margin: 0;
}

.downlevel .d-title {
  padding-top: 6rem;
  padding-bottom: 1.5rem;
}

.downlevel .d-title h1 {
  font-size: 50px;
  font-weight: 700;
  line-height: 1.1em;
  margin: 0 0 0.5rem;
}

.downlevel .d-title p {
  font-weight: 300;
  font-size: 1.2rem;
  line-height: 1.55em;
  margin-top: 0;
}

.downlevel .d-byline {
  padding-top: 0.8em;
  padding-bottom: 0.8em;
  font-size: 0.8rem;
  line-height: 1.8em;
}

.downlevel .section-separator {
  border: none;
  border-top: 1px solid rgba(0, 0, 0, 0.1);
}

.downlevel .d-article {
  font-size: 1.06rem;
  line-height: 1.7em;
  padding-top: 1rem;
  padding-bottom: 2rem;
}


.downlevel .d-appendix {
  padding-left: 0;
  padding-right: 0;
  max-width: none;
  font-size: 0.8em;
  line-height: 1.7em;
  margin-bottom: 0;
  color: rgba(0,0,0,0.5);
  padding-top: 40px;
  padding-bottom: 48px;
}

.downlevel .footnotes ol {
  padding-left: 13px;
}

.downlevel .base-grid,
.downlevel .distill-header,
.downlevel .d-title,
.downlevel .d-abstract,
.downlevel .d-article,
.downlevel .d-appendix,
.downlevel .distill-appendix,
.downlevel .d-byline,
.downlevel .d-footnote-list,
.downlevel .d-citation-list,
.downlevel .distill-footer,
.downlevel .appendix-bottom,
.downlevel .posts-container {
  padding-left: 40px;
  padding-right: 40px;
}

@media(min-width: 768px) {
  .downlevel .base-grid,
  .downlevel .distill-header,
  .downlevel .d-title,
  .downlevel .d-abstract,
  .downlevel .d-article,
  .downlevel .d-appendix,
  .downlevel .distill-appendix,
  .downlevel .d-byline,
  .downlevel .d-footnote-list,
  .downlevel .d-citation-list,
  .downlevel .distill-footer,
  .downlevel .appendix-bottom,
  .downlevel .posts-container {
  padding-left: 150px;
  padding-right: 150px;
  max-width: 900px;
}
}

.downlevel pre code {
  display: block;
  border-left: 2px solid rgba(0, 0, 0, .1);
  padding: 0 0 0 20px;
  font-size: 14px;
}

.downlevel code, .downlevel pre {
  color: black;
  background: none;
  font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
  text-align: left;
  white-space: pre;
  word-spacing: normal;
  word-break: normal;
  word-wrap: normal;
  line-height: 1.5;

  -moz-tab-size: 4;
  -o-tab-size: 4;
  tab-size: 4;

  -webkit-hyphens: none;
  -moz-hyphens: none;
  -ms-hyphens: none;
  hyphens: none;
}

.downlevel .posts-list .post-preview {
  color: inherit;
}



</style>

<script type="application/javascript">

function is_downlevel_browser() {
  if (bowser.isUnsupportedBrowser({ msie: "12", msedge: "16"},
                                 window.navigator.userAgent)) {
    return true;
  } else {
    return window.load_distill_framework === undefined;
  }
}

// show body when load is complete
function on_load_complete() {

  // add anchors
  if (window.anchors) {
    window.anchors.options.placement = 'left';
    window.anchors.add('d-article > h2, d-article > h3, d-article > h4, d-article > h5');
  }


  // set body to visible
  document.body.style.visibility = 'visible';

  // force redraw for leaflet widgets
  if (window.HTMLWidgets) {
    var maps = window.HTMLWidgets.findAll(".leaflet");
    $.each(maps, function(i, el) {
      var map = this.getMap();
      map.invalidateSize();
      map.eachLayer(function(layer) {
        if (layer instanceof L.TileLayer)
          layer.redraw();
      });
    });
  }

  // trigger 'shown' so htmlwidgets resize
  $('d-article').trigger('shown');
}

function init_distill() {

  init_common();

  // create front matter
  var front_matter = $('<d-front-matter></d-front-matter>');
  $('#distill-front-matter').wrap(front_matter);

  // create d-title
  $('.d-title').changeElementType('d-title');

  // create d-byline
  var byline = $('<d-byline></d-byline>');
  $('.d-byline').replaceWith(byline);

  // create d-article
  var article = $('<d-article></d-article>');
  $('.d-article').wrap(article).children().unwrap();

  // move posts container into article
  $('.posts-container').appendTo($('d-article'));

  // create d-appendix
  $('.d-appendix').changeElementType('d-appendix');

  // flag indicating that we have appendix items
  var appendix = $('.appendix-bottom').children('h3').length > 0;

  // replace footnotes with <d-footnote>
  $('.footnote-ref').each(function(i, val) {
    appendix = true;
    var href = $(this).attr('href');
    var id = href.replace('#', '');
    var fn = $('#' + id);
    var fn_p = $('#' + id + '>p');
    fn_p.find('.footnote-back').remove();
    var text = fn_p.html();
    var dtfn = $('<d-footnote></d-footnote>');
    dtfn.html(text);
    $(this).replaceWith(dtfn);
  });
  // remove footnotes
  $('.footnotes').remove();

  // move refs into #references-listing
  $('#references-listing').replaceWith($('#refs'));

  $('h1.appendix, h2.appendix').each(function(i, val) {
    $(this).changeElementType('h3');
  });
  $('h3.appendix').each(function(i, val) {
    var id = $(this).attr('id');
    $('.d-contents a[href="#' + id + '"]').parent().remove();
    appendix = true;
    $(this).nextUntil($('h1, h2, h3')).addBack().appendTo($('d-appendix'));
  });

  // show d-appendix if we have appendix content
  $("d-appendix").css('display', appendix ? 'grid' : 'none');

  // localize layout chunks to just output
  $('.layout-chunk').each(function(i, val) {

    // capture layout
    var layout = $(this).attr('data-layout');

    // apply layout to markdown level block elements
    var elements = $(this).children().not('details, div.sourceCode, pre, script');
    elements.each(function(i, el) {
      var layout_div = $('<div class="' + layout + '"></div>');
      if (layout_div.hasClass('shaded')) {
        var shaded_content = $('<div class="shaded-content"></div>');
        $(this).wrap(shaded_content);
        $(this).parent().wrap(layout_div);
      } else {
        $(this).wrap(layout_div);
      }
    });


    // unwrap the layout-chunk div
    $(this).children().unwrap();
  });

  // remove code block used to force  highlighting css
  $('.distill-force-highlighting-css').parent().remove();

  // remove empty line numbers inserted by pandoc when using a
  // custom syntax highlighting theme
  $('code.sourceCode a:empty').remove();

  // load distill framework
  load_distill_framework();

  // wait for window.distillRunlevel == 4 to do post processing
  function distill_post_process() {

    if (!window.distillRunlevel || window.distillRunlevel < 4)
      return;

    // hide author/affiliations entirely if we have no authors
    var front_matter = JSON.parse($("#distill-front-matter").html());
    var have_authors = front_matter.authors && front_matter.authors.length > 0;
    if (!have_authors)
      $('d-byline').addClass('hidden');

    // article with toc class
    $('.d-contents').parent().addClass('d-article-with-toc');

    // strip links that point to #
    $('.authors-affiliations').find('a[href="#"]').removeAttr('href');

    // add orcid ids
    $('.authors-affiliations').find('.author').each(function(i, el) {
      var orcid_id = front_matter.authors[i].orcidID;
      if (orcid_id) {
        var a = $('<a></a>');
        a.attr('href', 'https://orcid.org/' + orcid_id);
        var img = $('<img></img>');
        img.addClass('orcid-id');
        img.attr('alt', 'ORCID ID');
        img.attr('src','data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo1N0NEMjA4MDI1MjA2ODExOTk0QzkzNTEzRjZEQTg1NyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDozM0NDOEJGNEZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDozM0NDOEJGM0ZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IE1hY2ludG9zaCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkZDN0YxMTc0MDcyMDY4MTE5NUZFRDc5MUM2MUUwNEREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjU3Q0QyMDgwMjUyMDY4MTE5OTRDOTM1MTNGNkRBODU3Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+84NovQAAAR1JREFUeNpiZEADy85ZJgCpeCB2QJM6AMQLo4yOL0AWZETSqACk1gOxAQN+cAGIA4EGPQBxmJA0nwdpjjQ8xqArmczw5tMHXAaALDgP1QMxAGqzAAPxQACqh4ER6uf5MBlkm0X4EGayMfMw/Pr7Bd2gRBZogMFBrv01hisv5jLsv9nLAPIOMnjy8RDDyYctyAbFM2EJbRQw+aAWw/LzVgx7b+cwCHKqMhjJFCBLOzAR6+lXX84xnHjYyqAo5IUizkRCwIENQQckGSDGY4TVgAPEaraQr2a4/24bSuoExcJCfAEJihXkWDj3ZAKy9EJGaEo8T0QSxkjSwORsCAuDQCD+QILmD1A9kECEZgxDaEZhICIzGcIyEyOl2RkgwAAhkmC+eAm0TAAAAABJRU5ErkJggg==');
        a.append(img);
        $(this).append(a);
      }
    });

    // hide elements of author/affiliations grid that have no value
    function hide_byline_column(caption) {
      $('d-byline').find('h3:contains("' + caption + '")').parent().css('visibility', 'hidden');
    }

    // affiliations
    var have_affiliations = false;
    for (var i = 0; i<front_matter.authors.length; ++i) {
      var author = front_matter.authors[i];
      if (author.affiliation !== "&nbsp;") {
        have_affiliations = true;
        break;
      }
    }
    if (!have_affiliations)
      $('d-byline').find('h3:contains("Affiliations")').css('visibility', 'hidden');

    // published date
    if (!front_matter.publishedDate)
      hide_byline_column("Published");

    // document object identifier
    var doi = $('d-byline').find('h3:contains("DOI")');
    var doi_p = doi.next().empty();
    if (!front_matter.doi) {
      // if we have a citation and valid citationText then link to that
      if ($('#citation').length > 0 && front_matter.citationText) {
        doi.html('Citation');
        $('<a href="#citation"></a>')
          .text(front_matter.citationText)
          .appendTo(doi_p);
      } else {
        hide_byline_column("DOI");
      }
    } else {
      $('<a></a>')
         .attr('href', "https://doi.org/" + front_matter.doi)
         .html(front_matter.doi)
         .appendTo(doi_p);
    }

     // change plural form of authors/affiliations
    if (front_matter.authors.length === 1) {
      var grid = $('.authors-affiliations');
      grid.children('h3:contains("Authors")').text('Author');
      grid.children('h3:contains("Affiliations")').text('Affiliation');
    }

    // remove d-appendix and d-footnote-list local styles
    $('d-appendix > style:first-child').remove();
    $('d-footnote-list > style:first-child').remove();

    // move appendix-bottom entries to the bottom
    $('.appendix-bottom').appendTo('d-appendix').children().unwrap();
    $('.appendix-bottom').remove();

    // hoverable references
    $('span.citation[data-cites]').each(function() {
      var refHtml = $('#ref-' + $(this).attr('data-cites')).html();
      window.tippy(this, {
        allowHTML: true,
        content: refHtml,
        maxWidth: 500,
        interactive: true,
        interactiveBorder: 10,
        theme: 'light-border',
        placement: 'bottom-start'
      });
    });

    // clear polling timer
    clearInterval(tid);

    // show body now that everything is ready
    on_load_complete();
  }

  var tid = setInterval(distill_post_process, 50);
  distill_post_process();

}

function init_downlevel() {

  init_common();

   // insert hr after d-title
  $('.d-title').after($('<hr class="section-separator"/>'));

  // check if we have authors
  var front_matter = JSON.parse($("#distill-front-matter").html());
  var have_authors = front_matter.authors && front_matter.authors.length > 0;

  // manage byline/border
  if (!have_authors)
    $('.d-byline').remove();
  $('.d-byline').after($('<hr class="section-separator"/>'));
  $('.d-byline a').remove();

  // remove toc
  $('.d-contents').remove();

  // move appendix elements
  $('h1.appendix, h2.appendix').each(function(i, val) {
    $(this).changeElementType('h3');
  });
  $('h3.appendix').each(function(i, val) {
    $(this).nextUntil($('h1, h2, h3')).addBack().appendTo($('.d-appendix'));
  });


  // inject headers into references and footnotes
  var refs_header = $('<h3></h3>');
  refs_header.text('References');
  $('#refs').prepend(refs_header);

  var footnotes_header = $('<h3></h3');
  footnotes_header.text('Footnotes');
  $('.footnotes').children('hr').first().replaceWith(footnotes_header);

  // move appendix-bottom entries to the bottom
  $('.appendix-bottom').appendTo('.d-appendix').children().unwrap();
  $('.appendix-bottom').remove();

  // remove appendix if it's empty
  if ($('.d-appendix').children().length === 0)
    $('.d-appendix').remove();

  // prepend separator above appendix
  $('.d-appendix').before($('<hr class="section-separator" style="clear: both"/>'));

  // trim code
  $('pre>code').each(function(i, val) {
    $(this).html($.trim($(this).html()));
  });

  // move posts-container right before article
  $('.posts-container').insertBefore($('.d-article'));

  $('body').addClass('downlevel');

  on_load_complete();
}


function init_common() {

  // jquery plugin to change element types
  (function($) {
    $.fn.changeElementType = function(newType) {
      var attrs = {};

      $.each(this[0].attributes, function(idx, attr) {
        attrs[attr.nodeName] = attr.nodeValue;
      });

      this.replaceWith(function() {
        return $("<" + newType + "/>", attrs).append($(this).contents());
      });
    };
  })(jQuery);

  // prevent underline for linked images
  $('a > img').parent().css({'border-bottom' : 'none'});

  // mark non-body figures created by knitr chunks as 100% width
  $('.layout-chunk').each(function(i, val) {
    var figures = $(this).find('img, .html-widget');
    if ($(this).attr('data-layout') !== "l-body") {
      figures.css('width', '100%');
    } else {
      figures.css('max-width', '100%');
      figures.filter("[width]").each(function(i, val) {
        var fig = $(this);
        fig.css('width', fig.attr('width') + 'px');
      });

    }
  });

  // auto-append index.html to post-preview links in file: protocol
  // and in rstudio ide preview
  $('.post-preview').each(function(i, val) {
    if (window.location.protocol === "file:")
      $(this).attr('href', $(this).attr('href') + "index.html");
  });

  // get rid of index.html references in header
  if (window.location.protocol !== "file:") {
    $('.distill-site-header a[href]').each(function(i,val) {
      $(this).attr('href', $(this).attr('href').replace("index.html", "./"));
    });
  }

  // add class to pandoc style tables
  $('tr.header').parent('thead').parent('table').addClass('pandoc-table');
  $('.kable-table').children('table').addClass('pandoc-table');

  // add figcaption style to table captions
  $('caption').parent('table').addClass("figcaption");

  // initialize posts list
  if (window.init_posts_list)
    window.init_posts_list();

  // implmement disqus comment link
  $('.disqus-comment-count').click(function() {
    window.headroom_prevent_pin = true;
    $('#disqus_thread').toggleClass('hidden');
    if (!$('#disqus_thread').hasClass('hidden')) {
      var offset = $(this).offset();
      $(window).resize();
      $('html, body').animate({
        scrollTop: offset.top - 35
      });
    }
  });
}

document.addEventListener('DOMContentLoaded', function() {
  if (is_downlevel_browser())
    init_downlevel();
  else
    window.addEventListener('WebComponentsReady', init_distill);
});

</script>

<!--/radix_placeholder_distill-->
  <script src="../../site_libs/header-attrs-2.7/header-attrs.js"></script>
  <script src="../../site_libs/jquery-1.11.3/jquery.min.js"></script>
  <script src="../../site_libs/popper-2.6.0/popper.min.js"></script>
  <link href="../../site_libs/tippy-6.2.7/tippy.css" rel="stylesheet" />
  <link href="../../site_libs/tippy-6.2.7/tippy-light-border.css" rel="stylesheet" />
  <script src="../../site_libs/tippy-6.2.7/tippy.umd.min.js"></script>
  <script src="../../site_libs/anchor-4.2.2/anchor.min.js"></script>
  <script src="../../site_libs/bowser-1.9.3/bowser.min.js"></script>
  <script src="../../site_libs/webcomponents-2.0.0/webcomponents.js"></script>
  <script src="../../site_libs/distill-2.2.21/template.v2.js"></script>
  <!--radix_placeholder_site_in_header-->
<!--/radix_placeholder_site_in_header-->


</head>

<body>

<!--radix_placeholder_front_matter-->

<script id="distill-front-matter" type="text/json">
{"title":"ISSS608 Visual Analytics - DataViz Makeover 2","description":"Analysis of Data Visualisation on Public Willingness on Covid-19 Vaccination.","authors":[{"author":"Louis Chong Jia Jun (louis.chong.2019@mitb.smu.edu.sg)","authorURL":"https://www.linkedin.com/in/louis-chong-jia-jun","affiliation":"&nbsp;","affiliationURL":"#","orcidID":""}],"publishedDate":"2021-02-17T00:00:00.000+08:00","citationText":"(louis.chong.2019@mitb.smu.edu.sg), 2021"}
</script>

<!--/radix_placeholder_front_matter-->
<!--radix_placeholder_navigation_before_body-->
<header class="header header--fixed" role="banner">
<nav class="distill-site-nav distill-site-header">
<div class="nav-left">
<a href="../../index.html" class="title">IDEA</a>
<input id="distill-search" class="nav-search hidden" type="text" placeholder="Search..."/>
</div>
<div class="nav-right">
<a href="../../index.html">Home</a>
<a href="../../dataviz.html">DataViz Makeover</a>
<a href="../../vap.html">Visual Analytics Project</a>
<a href="../../about.html">About</a>
<a href="javascript:void(0);" class="nav-toggle">&#9776;</a>
</div>
</nav>
</header>
<!--/radix_placeholder_navigation_before_body-->
<!--radix_placeholder_site_before_body-->
<!--/radix_placeholder_site_before_body-->

<div class="d-title">
<h1>ISSS608 Visual Analytics - DataViz Makeover 2</h1>
<!--radix_placeholder_categories-->
<!--/radix_placeholder_categories-->
<p><p>Analysis of Data Visualisation on Public Willingness on Covid-19 Vaccination.</p></p>
</div>

<div class="d-byline">
  Louis Chong Jia Jun (<a href="mailto:louis.chong.2019@mitb.smu.edu.sg" class="email">louis.chong.2019@mitb.smu.edu.sg</a>) <a href="https://www.linkedin.com/in/louis-chong-jia-jun" class="uri">https://www.linkedin.com/in/louis-chong-jia-jun</a> 
  
<br/>02-17-2021
</div>

<div class="d-article">
<h1 id="critiques-and-improvements-of-data-visualisation">1.0 Critiques and Improvements of Data Visualisation</h1>
<p>A research team is currently conducting a study to understand the willingness of the public on Covid-19 vaccination. The research utilises data from surveys conducted in January 2021. The data is from Imperial College London YouGov Covid 19 Behaviour Tracker Data Hub and is hosted at Github. Figure 1 shows two data visualisations created by one of the research scientists of the research.</p>
<figure>
<img src="https://raw.githubusercontent.com/louischong1990/blog/master/Makeover2/Images/Picture1.png" alt="Figure 1: Original Data Visualisation" /><figcaption aria-hidden="true">Figure 1: Original Data Visualisation</figcaption>
</figure>
<h2 id="clarity">Clarity</h2>
<ul>
<li>[C.1] The data visualisation is titled “Which country is more pro-vacinne” and “% of strongly agreed to vaccination”. However, this does not accurately represent the survey question shown by the data visualisation, which is “If a Covid-19 vaccine were made available to me this week, I would definitely get it”. Furthermore, there are other questions that show whether a country is pro-vaccine e.g. whether they are worried about side effects, whether they will regret not getting the vaccine, etc.</li>
<li>[C.2] The research team uses a general term “pro-vacinne”. Although they went on to show a data visualisation on “% of strongly agreed to vaccination”, it leaves readers guessing whether “pro-vacinne” means strongly agree and/or agree. The title could have been more specific to make it clear to readers what survey response is represented by the data visualisation.</li>
<li>[C.3] There is no lead-in paragraph in the data visualisation to show the key message. Readers may only pick up that a higher percentage of survey respondents in the United Kingdom “strongly agreed to vaccination”, but cannot compare it with the average percentage for all countries surveyed. Furthermore, the data visualisation does not give the total number of survey respondents from the countries. As such, readers cannot find out the exact number of survey respondents that provided certain response to a specific survey question.</li>
<li>[C.4] The demographics of survey respondents are not shown in the data visualisations. As such, readers are not able to compare and understand the sentiments of survey respondents of different demographics e.g. male vs female.</li>
<li>[C.5] The data source is not cited in the data visualisation. This is not ideal, as readers will not be able to find out more about the background and details of the data source.</li>
<li>[C.6] The number of survey respondents from each country is different i.e. different sample sizes. Thus, it’s unfair to compare and inappropriate to display the survey response percentage in a bar chart. Different levels of error or confidence levels should be catered for.</li>
</ul>
<h2 id="aesthetics">Aesthetics</h2>
<ul>
<li>[A.1] The use of the 100% stacked bar chart makes it visually difficult to compare the percentage for each survey response e.g. strongly agree, agree, etc. Instead of using diverging colours to represent the likert scale, it uses 5 different colours, which can be distracting and may not be intuitive to readers that it’s a likert scale. Furthermore, 2, 3 and 4 are not labelled, so readers may not instantly know that they represent “Agree”, “Neutral” and “Disagree”.</li>
<li>[A.2] The 100% stacked bar chart is sorted in alphabetical order, while the other bar chart is sorted in descending order by percentage that strongly agreed. This makes it hard for readers to compare both charts and find out the overall survey response for a specific country that have the highest percentage for “strongly agreed” i.e. United Kingdom.</li>
<li>[A.3] The use of different number of decimal places in both charts is inconsistent. The 100% stacked bar chart uses 0 decimal place, while the other bar chart uses 1 decimal place. This is generally not a good practice for charts that are compared and directly relate to each other.</li>
<li>[A.4] The data visualisation indicates “Vac 1”. However, it’s not clear to readers what the survey question is, unless they refer to the data source, which is not indicated as well.</li>
</ul>
<h2 id="sketch-of-proposed-design">Sketch of Proposed Design</h2>
<p>Figure 2 shows the sketch of the proposed data visualisation to replace the one done by the research team. It will address the critiques which were mentioned earlier.</p>
<figure>
<img src="https://raw.githubusercontent.com/louischong1990/blog/master/Makeover2/Images/Sketch.jpg" style="width:70.0%" alt="Figure 2: Sketch of Proposed Design" /><figcaption aria-hidden="true">Figure 2: Sketch of Proposed Design</figcaption>
</figure>
<ul>
<li>[C.1] A filter is shown such that readers can choose the survey question. The survey question will be reflected in the title and all data visualisations or charts will change whenever the reader selects a different survey question.</li>
<li>[C.2] Specific terms are used e.g. strongly agree, agree, neutral, disagree and strongly disagree to make the chosen survey response clear to readers. Readers can also choose the survey response to look at and the title, dot plot and bar chart (breakdown of survey respondents) will change accordingly.</li>
<li>[C.3] The title or lead-in paragraph can be changed by readers according to the chosen Survey Question, Survey Response and filters. It will give readers an overview on the overall survey response percentage and number of survey respondents for the selected survey question. Each data visualisation or chart will also show the number of survey respondents under each point or bar using Tooltip.</li>
<li>[C.4] Readers can use the bar chart (breakdown of survey respondents) to compare and understand the sentiments of survey respondents of different demographics. In addition, they can filter based on each demographic to analyse and compare how the various data visualisations change.</li>
<li>[C.5] The data source will be labelled at the bottom of the data visualisation or dashboard.</li>
<li>[C.6] A parameter is created such that readers can change the confidence interval. This allows a better comparison of survey responses from countries with different sample sizes. The error bars on the dot plot will change when a different confidence interval is chosen.</li>
<li>[A.1] A diverging stacked bar chart is used to represent the survey response (likert scale) instead. Diverging colours are used i.e. dark blue for strongly agree to dark red for strongly disagree. Each survey response is labelled appropriately for clarity to readers.</li>
<li>[A.2] Parameters are created to allow readers to sort both the dot plot and diverging stacked bar chart at the same time. This allows better comparison of the survey responses from each country.</li>
<li>[A.3] All the data visualisations or charts, titles and tooltips are standardised to show percentage in 0 decimal place.</li>
<li>[A.4] The survey questions are properly named for clarity to readers.</li>
</ul>
<h1 id="step-by-step-description-of-data-visualisation-preparation">2.0 Step-by-Step Description of Data Visualisation Preparation</h1>
<h2 id="data-preparation">Data Preparation</h2>
<ul>
<li>The survey data from Imperial College London YouGov Covid 19 Behaviour Tracker Data Hub, hosted at Github, is downloaded by running Git Clone on RStudio ($ git clone <a href="https://github.com/YouGov-Data/covid-19-tracker" class="uri">https://github.com/YouGov-Data/covid-19-tracker</a>).</li>
<li>Data files containing responses to the 6 surveys (vac_1, vac2_1, vac2_2, vac2_3, vac2_6, vac_3) and the attributes (gender, age, household_size, household_children, employment_status) are used. This include data from Australia, Canada, Denmark, Finland, France, Germany, Italy, Japan, Netherlands, Norway, Singapore, South Korea, Spain, Sweden and United Kingdom. The relevant columns are extracted via Excel.</li>
<li>Each country’s data file is filtered on Excel and only rows containing responses to the 6 surveys are extracted (Figure 3).</li>
</ul>
<figure>
<img src="https://raw.githubusercontent.com/louischong1990/blog/master/Makeover2/Images/Picture2.png" style="width:70.0%" alt="Figure 3: Rows with Survey Responses" /><figcaption aria-hidden="true">Figure 3: Rows with Survey Responses</figcaption>
</figure>
<ul>
<li>For Denmark, Finland, Norway and Sweden, the responses to employment status are separated into many columns. IF formula is used on Excel to collate the survey respondent’s employment status in a single column and rename to the respective employment status (Full time employment, Part time employment, Full time student, Retired, Unemployed, Not working, Others) (Figure 4).</li>
</ul>
<figure>
<img src="https://raw.githubusercontent.com/louischong1990/blog/master/Makeover2/Images/Picture3.png" alt="Figure 4: Columns with Employment Status" /><figcaption aria-hidden="true">Figure 4: Columns with Employment Status</figcaption>
</figure>
<ul>
<li>Under the columns with the survey responses, “1 - Strongly agree” and “5 - Strongly disagree” are renamed to “1” and “5” respectively to allow the diverging stacked bar chart to be built subsequently.</li>
<li>Under the column with household size, “8” is renamed to “8 or more”.</li>
<li>Under the column with household children, “5”, “6”, “7” and “8” are renamed to “5 or more” and “Don’t know” to “Prefer not to say”.</li>
<li>The various countries’ data files are merged in Excel and a column is added to indicate the Country. The final dataset is saved as cleaned.xlsx. A sample of final dataset is seen in Figure 5.</li>
</ul>
<figure>
<img src="https://raw.githubusercontent.com/louischong1990/blog/master/Makeover2/Images/Picture4.png" alt="Figure 5: Final Dataset" /><figcaption aria-hidden="true">Figure 5: Final Dataset</figcaption>
</figure>
<h2 id="import-into-tableau">Import into Tableau</h2>
<ul>
<li>The cleaned.xlsx is imported into Tableau (Figure 6).</li>
</ul>
<figure>
<img src="https://raw.githubusercontent.com/louischong1990/blog/master/Makeover2/Images/Picture5.png" style="width:50.0%" alt="Figure 6: Import into Tableau Type" /><figcaption aria-hidden="true">Figure 6: Import into Tableau Type</figcaption>
</figure>
<ul>
<li>The data types of Record No, Household Size and Household Children are changed to String (Figure 7).</li>
</ul>
<figure>
<img src="https://raw.githubusercontent.com/louischong1990/blog/master/Makeover2/Images/Picture6.png" style="width:80.0%" alt="Figure 7: Change of Data Type" /><figcaption aria-hidden="true">Figure 7: Change of Data Type</figcaption>
</figure>
<ul>
<li>The vac_1, vac2_1, vac2_2, vac2_3, vac2_6 and vac_3 columns are renamed to the respective survey questions (Figure 8). The columns are clicked and pivoted (Figure 9). This will form two columns, one for Survey Question and another for Survey Response. The two columns are renamed accordingly. Figure 10 shows the data table used for subsequent data visualisations.</li>
</ul>
<figure>
<img src="https://raw.githubusercontent.com/louischong1990/blog/master/Makeover2/Images/Picture7.png" alt="Figure 8: Rename Survey Questions" /><figcaption aria-hidden="true">Figure 8: Rename Survey Questions</figcaption>
</figure>
<figure>
<img src="https://raw.githubusercontent.com/louischong1990/blog/master/Makeover2/Images/Picture8.png" alt="Figure 9: Pivot Columns" /><figcaption aria-hidden="true">Figure 9: Pivot Columns</figcaption>
</figure>
<figure>
<img src="https://raw.githubusercontent.com/louischong1990/blog/master/Makeover2/Images/Picture9.png" alt="Figure 10: Data Table" /><figcaption aria-hidden="true">Figure 10: Data Table</figcaption>
</figure>
<ul>
<li>Moving on to the Worksheet, the Age, Country, Employment Status, Gender, Household Children, Household Size, Survey Question and Survey Response should be under Dimensions (Figure 11).</li>
</ul>
<figure>
<img src="https://raw.githubusercontent.com/louischong1990/blog/master/Makeover2/Images/Picture10.png" style="width:30.0%" alt="Figure 11: Dimensions" /><figcaption aria-hidden="true">Figure 11: Dimensions</figcaption>
</figure>
<ul>
<li>Next, we right click Survey Response to edit the aliases to the respective Survey Response (Strongly Agree, Agree, Neutral, Disagree, Strongly Disagree) to be clear to readers, as seen in Figure 12.</li>
</ul>
<figure>
<img src="https://raw.githubusercontent.com/louischong1990/blog/master/Makeover2/Images/Picture11.png" style="width:70.0%" alt="Figure 12: Aliases for Survey Response" /><figcaption aria-hidden="true">Figure 12: Aliases for Survey Response</figcaption>
</figure>
<h2 id="diverging-stacked-bar-chart">Diverging Stacked Bar Chart</h2>
<ul>
<li>First, we created calculated fields by following the step shown in Figure 13. The following calculated fields are created:
<ul>
<li>Number of Records: 1</li>
<li>Total Count: TOTAL(SUM([Number of Records]))</li>
<li>Count Negative: IF [Survey Response]&gt;3 THEN 1 ELSEIF [Survey Response]=3 THEN 0.5 ELSE 0 END</li>
<li>Total Count Negative : TOTAL(SUM([Count Negative]))</li>
<li>Percentage: SUM([Number of Records])/[Total Count]</li>
<li>Gantt Start: -[Total Count Negative]/[Total Count]</li>
<li>Gantt Percent: PREVIOUS_VALUE([Gantt Start])+ZN(LOOKUP([Percentage],-1))</li>
</ul></li>
</ul>
<figure>
<img src="https://raw.githubusercontent.com/louischong1990/blog/master/Makeover2/Images/Picture12.png" style="width:50.0%" alt="Figure 13: Create Calculated Field" /><figcaption aria-hidden="true">Figure 13: Create Calculated Field</figcaption>
</figure>
<ul>
<li>Next, Survey Response is placed under Detail and Color, Gantt Percent under Columns (Compute Using Survey Response) and Country under Rows. This is shown in Figure 14.</li>
</ul>
<figure>
<img src="https://raw.githubusercontent.com/louischong1990/blog/master/Makeover2/Images/Picture13.png" alt="Figure 14: Diverging Stacked Bar Chart Part 1" /><figcaption aria-hidden="true">Figure 14: Diverging Stacked Bar Chart Part 1</figcaption>
</figure>
<ul>
<li>The data visualisation or chart is changed to Gantt Bar (Figure 15).</li>
</ul>
<figure>
<img src="https://raw.githubusercontent.com/louischong1990/blog/master/Makeover2/Images/Picture14.png" style="width:30.0%" alt="Figure 15: Diverging Stacked Bar Chart Part 2" /><figcaption aria-hidden="true">Figure 15: Diverging Stacked Bar Chart Part 2</figcaption>
</figure>
<ul>
<li>Percentage is then placed under Size, computed using Survey Response. The colours for Survey Response are edited to diverging colours. This is shown in Figure 16.</li>
</ul>
<figure>
<img src="https://raw.githubusercontent.com/louischong1990/blog/master/Makeover2/Images/Picture15.png" alt="Figure 16: Diverging Stacked Bar Chart Part 3" /><figcaption aria-hidden="true">Figure 16: Diverging Stacked Bar Chart Part 3</figcaption>
</figure>
<ul>
<li>As it’s a good practice for negative (strongly disagree and disagree) survey responses to be on the left and positive (strongly agree and agree) survey responses to be on the right, Survey Response is manually sorted, as seen in Figure 17.</li>
</ul>
<figure>
<img src="https://raw.githubusercontent.com/louischong1990/blog/master/Makeover2/Images/Picture16.png" style="width:70.0%" alt="Figure 17: Diverging Stacked Bar Chart Part 4" /><figcaption aria-hidden="true">Figure 17: Diverging Stacked Bar Chart Part 4</figcaption>
</figure>
<ul>
<li>We will standardise the axis labels for Percentage to 0 decimal place, with 0.1 tick interval. We will right click to edit axis and format, as shown in Figure 18.</li>
</ul>
<figure>
<img src="https://raw.githubusercontent.com/louischong1990/blog/master/Makeover2/Images/Picture17.png" alt="Figure 18: Diverging Stacked Bar Chart Part 5" /><figcaption aria-hidden="true">Figure 18: Diverging Stacked Bar Chart Part 5</figcaption>
</figure>
<ul>
<li>To allow readers to select the survey question, Survey Question is placed under Filters. We will right click to Show Filter and the filter will appear on the right of the worksheet. The filter is changed to Single Value (dropdown) and customised to not show “All” value, as it’s not useful to show the response to all surveys together. This is shown in Figure 19.</li>
</ul>
<figure>
<img src="https://raw.githubusercontent.com/louischong1990/blog/master/Makeover2/Images/Picture18.png" alt="Figure 19: Diverging Stacked Bar Chart Part 6" /><figcaption aria-hidden="true">Figure 19: Diverging Stacked Bar Chart Part 6</figcaption>
</figure>
<ul>
<li>Next, we will place Number of Records under Detail to show the number of survey respondents and edit Tooltip, as seen in Figure 20. Percentage is formatted to 0 decimal place (as explained in Figure 18).</li>
</ul>
<figure>
<img src="https://raw.githubusercontent.com/louischong1990/blog/master/Makeover2/Images/Picture19.png" alt="Figure 20: Diverging Stacked Bar Chart Part 7" /><figcaption aria-hidden="true">Figure 20: Diverging Stacked Bar Chart Part 7</figcaption>
</figure>
<ul>
<li>The title is also edited, as seen in Figure 21, for clarity to readers. Finally the worksheet is adjusted to Fit Height (Figure 22). The header for x axis (Gantt Percent) and field label for row (Country) are hidden to save space and because they should be easily understood by readers (Figure 23).</li>
</ul>
<figure>
<img src="https://raw.githubusercontent.com/louischong1990/blog/master/Makeover2/Images/Picture20.png" alt="Figure 21: Diverging Stacked Bar Chart Part 8" /><figcaption aria-hidden="true">Figure 21: Diverging Stacked Bar Chart Part 8</figcaption>
</figure>
<figure>
<img src="https://raw.githubusercontent.com/louischong1990/blog/master/Makeover2/Images/Picture21.png" style="width:30.0%" alt="Figure 22: Diverging Stacked Bar Chart Part 9" /><figcaption aria-hidden="true">Figure 22: Diverging Stacked Bar Chart Part 9</figcaption>
</figure>
<figure>
<img src="https://raw.githubusercontent.com/louischong1990/blog/master/Makeover2/Images/Picture30.png" style="width:70.0%" alt="Figure 23: Diverging Stacked Bar Chart Part 10" /><figcaption aria-hidden="true">Figure 23: Diverging Stacked Bar Chart Part 10</figcaption>
</figure>
<ul>
<li>Figure 24 shows the diverging stacked bar chart.</li>
</ul>
<figure>
<img src="https://raw.githubusercontent.com/louischong1990/blog/master/Makeover2/Images/Picture22.png" alt="Figure 24: Diverging Stacked Bar Chart (Final)" /><figcaption aria-hidden="true">Figure 24: Diverging Stacked Bar Chart (Final)</figcaption>
</figure>
<h2 id="dot-plot-with-error-bars">Dot Plot with Error Bars</h2>
<ul>
<li>Next, we will create a dot plot with error bars to compare survey responses from different countries of different sample sizes. Normal distribution is assumed. We will right click Create Parameter to create a parameter for Confidence Interval. If we right click to Show Parameter, readers are able to choose the confidence interval to show for the dot plot. This is shown in Figure 25.</li>
</ul>
<figure>
<img src="https://raw.githubusercontent.com/louischong1990/blog/master/Makeover2/Images/Picture23.png" alt="Figure 25: Dot Plot Part 1" /><figcaption aria-hidden="true">Figure 25: Dot Plot Part 1</figcaption>
</figure>
<ul>
<li>We will also create the following calculated fields (as explained in Figure 13):
<ul>
<li>Z: IF [Confidence Interval]=“95%” THEN 1.959964 ELSEIF [Confidence Interval]=“99%” THEN 2.575829 END</li>
<li>Margin: [Z] * SQRT(([Percentage] * (1-[Percentage]))/[Total Count])</li>
<li>Upper Limit: [Percentage]+[Margin]</li>
<li>Lower Limit: [Percentage]-[Margin]</li>
</ul></li>
<li>Country is placed under Rows, Survey Response under Detail and Percentage under Columns (Compute Using Survey Response), as seen in Figure 26.</li>
</ul>
<figure>
<img src="https://raw.githubusercontent.com/louischong1990/blog/master/Makeover2/Images/Picture24.png" alt="Figure 26: Dot Plot Part 2" /><figcaption aria-hidden="true">Figure 26: Dot Plot Part 2</figcaption>
</figure>
<ul>
<li>The following calculated field is also created to ensure that the Survey Response can be filtered without changing the percentage. We will right click this field to convert it to Discrete (Figure 27).
<ul>
<li>Filter (Survey Response): LOOKUP(ATTR([Survey Responses]), 0)</li>
</ul></li>
</ul>
<figure>
<img src="https://raw.githubusercontent.com/louischong1990/blog/master/Makeover2/Images/Picture25.png" style="width:50.0%" alt="Figure 27: Dot Plot Part 3" /><figcaption aria-hidden="true">Figure 27: Dot Plot Part 3</figcaption>
</figure>
<ul>
<li>Similar to the diverging stacked bar chart, Survey Question is placed under Filters, as well as Filter (Survey Response). We will right click to Show Filter and the filters will appear on the right of the worksheet. The filters are changed to Single Value (dropdown) and customised to not show “All” value, as it’s not useful to show all options together. The steps were described in Figure 19 earlier. The title of Filter (Survey Response) is edited to Survey Response by Country, as seen in Figure 28.</li>
</ul>
<figure>
<img src="https://raw.githubusercontent.com/louischong1990/blog/master/Makeover2/Images/Picture26.png" alt="Figure 28: Dot Plot Part 4" /><figcaption aria-hidden="true">Figure 28: Dot Plot Part 4</figcaption>
</figure>
<ul>
<li>Next, Measure Values is placed under Columns and only Lower Limit and Upper Limit are kept (Figure 29). They are formatted to show the Percentage in 0 decimal place (as explained in Figure 18).</li>
</ul>
<figure>
<img src="https://raw.githubusercontent.com/louischong1990/blog/master/Makeover2/Images/Picture27.png" style="width:50.0%" alt="Figure 29: Dot Plot Part 5" /><figcaption aria-hidden="true">Figure 29: Dot Plot Part 5</figcaption>
</figure>
<ul>
<li>The data visualisation or chart for Percentage is changed to Circle and that of Measure Values is changed to Line. Measure Names is placed under Path under Measure Values. This is shown in Figure 30.</li>
</ul>
<figure>
<img src="https://raw.githubusercontent.com/louischong1990/blog/master/Makeover2/Images/Picture28.png" style="width:80.0%" alt="Figure 30: Dot Plot Part 6" /><figcaption aria-hidden="true">Figure 30: Dot Plot Part 6</figcaption>
</figure>
<ul>
<li>Dual Axis is created and the axes are synchronised, as seen in Figure 31. The axis titled “Value”, which represents the upper and lower limit percentages, is hidden, as the percentage can be seen in the bottom axis as well. The field label for row (Country) is also hidden to save space and because they should be easily understood by readers (as explained in Figure 23).</li>
</ul>
<figure>
<img src="https://raw.githubusercontent.com/louischong1990/blog/master/Makeover2/Images/Picture29.png" alt="Figure 31: Dot Plot Part 7" /><figcaption aria-hidden="true">Figure 31: Dot Plot Part 7</figcaption>
</figure>
<ul>
<li>To bring the dots in front of the lines, we right click the Percentage Axis and clicked Move marks to front (Figure 32). As explained earlier in Figure 18, We will also standardise the axis labels for Percentage to 0 decimal place, with 0.1 tick interval.</li>
</ul>
<figure>
<img src="https://raw.githubusercontent.com/louischong1990/blog/master/Makeover2/Images/Picture31.png" style="width:30.0%" alt="Figure 32: Dot Plot Part 8" /><figcaption aria-hidden="true">Figure 32: Dot Plot Part 8</figcaption>
</figure>
<ul>
<li>Number of Records is placed under Detail under Percentage to show the number of survey respondents. The Tooltip for Percentage and Measure Values are edited, as seen in Figure 33. The Title is edited, as seen in Figure 34, to indicate the Survey Response represented by the dot plot.</li>
</ul>
<figure>
<img src="https://raw.githubusercontent.com/louischong1990/blog/master/Makeover2/Images/Picture32.png" alt="Figure 33: Dot Plot Part 9" /><figcaption aria-hidden="true">Figure 33: Dot Plot Part 9</figcaption>
</figure>
<figure>
<img src="https://raw.githubusercontent.com/louischong1990/blog/master/Makeover2/Images/Picture33.png" alt="Figure 34: Dot Plot Part 10" /><figcaption aria-hidden="true">Figure 34: Dot Plot Part 10</figcaption>
</figure>
<ul>
<li>The Color for Percentage and Measure Values are changed to black and light blue respectively. The worksheet is adjusted to Fit Height (as explained in Figure 22). Figure 35 shows the dot plot with error bars.</li>
</ul>
<figure>
<img src="https://raw.githubusercontent.com/louischong1990/blog/master/Makeover2/Images/Picture34.png" alt="Figure 35: Dot Plot with Error Bars (Final)" /><figcaption aria-hidden="true">Figure 35: Dot Plot with Error Bars (Final)</figcaption>
</figure>
<h2 id="title-lead-in-paragraph">Title / Lead-in Paragraph</h2>
<ul>
<li>Next, we wish to have a title or lead-in paragraph to allow indicate the relevant survey question, overall survey response percentage and number of survey respondents.</li>
<li>A new worksheet is created. Survey Response, Percentage and Total Count are placed under Detail (Figure 36).</li>
</ul>
<figure>
<img src="https://raw.githubusercontent.com/louischong1990/blog/master/Makeover2/Images/Picture35.png" style="width:30.0%" alt="Figure 36: Title Part 1" /><figcaption aria-hidden="true">Figure 36: Title Part 1</figcaption>
</figure>
<ul>
<li>Survey Question and Filter (Survey Response) are placed under Filters. We will right click to Show Filter and the filters will appear on the right of the worksheet. The Survey Question and Filter (Survey Response) filters are changed to Single Value (dropdown) and customised to not show “All” value, as it’s not useful to show all options together. The steps were described in Figure 19 earlier. The title of Filter (Survey Response) is edited to Overall Survey Response, as explained in Figure 28.</li>
<li>The title is edited and Figure 37 shows the interactive title or lead-in paragraph that will be used for the dashboard.</li>
</ul>
<figure>
<img src="https://raw.githubusercontent.com/louischong1990/blog/master/Makeover2/Images/Picture36.png" alt="Figure 37: Title Part 2" /><figcaption aria-hidden="true">Figure 37: Title Part 2</figcaption>
</figure>
<h2 id="bar-chart-breakdown-by-demographics">Bar Chart (Breakdown by Demographics)</h2>
<ul>
<li>Next, we will create a bar chart that will break down the survey respondents by demographics e.g. Gender. This will allow readers to compare and understand the sentiments of survey respondents of different demographics.</li>
<li>A parameter, Demographic, is created, as seen in Figure 38 and explained earlier in Figure 25. We will right click Show Parameter and readers will be able to select the demographic to show.</li>
</ul>
<figure>
<img src="https://raw.githubusercontent.com/louischong1990/blog/master/Makeover2/Images/Picture37.png" style="width:70.0%" alt="Figure 38: Bar Chart Part 1" /><figcaption aria-hidden="true">Figure 38: Bar Chart Part 1</figcaption>
</figure>
<ul>
<li>We will also create the following calculated field (as explained in Figure 13):
<ul>
<li>Demographic: IF [Parameters].[Demographic]=“Gender” THEN [Gender] ELSEIF [Parameters].[Demographic]=“Household Children” THEN [Household Children] ELSEIF [Parameters].[Demographic]=“Household Size” THEN [Household Size] ELSEIF [Parameters].[Demographic]=“Employment Status” THEN [Employment Status] END</li>
</ul></li>
<li>Demographic is placed under Rows, Percentage under Columns, Number of Records under Detail, Survey Question and Survey Response under Filters.</li>
<li>We will right click to Show Filter and the filters will appear on the right of the worksheet. The Survey Question and Filter (Survey Response) filters are changed to Single Value (dropdown). Here, only the Survey Question filter is customised to not show “All” value, as it’s not useful to show all options together. The steps were described in Figure 19 earlier. The title of Filter (Survey Response) is edited to Survey Response, as explained in Figure 28.</li>
<li>As explained earlier in Figure 18, We will standardise the axis labels for Percentage to 0 decimal place, with 0.1 tick interval.</li>
<li>The title is edited, as seen in Figure 39. The Tooltip is also edited, as seen in Figure 40.</li>
</ul>
<figure>
<img src="https://raw.githubusercontent.com/louischong1990/blog/master/Makeover2/Images/Picture38.png" alt="Figure 39: Bar Chart Part 2" /><figcaption aria-hidden="true">Figure 39: Bar Chart Part 2</figcaption>
</figure>
<figure>
<img src="https://raw.githubusercontent.com/louischong1990/blog/master/Makeover2/Images/Picture39.png" alt="Figure 40: Bar Chart Part 3" /><figcaption aria-hidden="true">Figure 40: Bar Chart Part 3</figcaption>
</figure>
<ul>
<li>The field label for row (Demographic) is hidden to save space and because it’s indicated in the title. The step is explained in Figure 23.</li>
<li>The Color and Border of the bar chart are changed to make the chart more aesthetically pleasing and clearer. The worksheet is adjusted to Fit Height (as explained in Figure 22). Figure 41 shows the bar chart (breakdown by demographics).</li>
</ul>
<figure>
<img src="https://raw.githubusercontent.com/louischong1990/blog/master/Makeover2/Images/Picture40.png" alt="Figure 41: Bar Chart (Final)" /><figcaption aria-hidden="true">Figure 41: Bar Chart (Final)</figcaption>
</figure>
<h2 id="interactive-and-synchronised-filters">Interactive and Synchronised Filters</h2>
<ul>
<li>To ensure the applied filters are synchronised across worksheets so that it can be reflected in all relevant data visualisations on dashboard, we will first place all the relevant filters in one of the worksheets e.g. Dot Plot with Error Bars.</li>
<li>The following are placed under Filters. The filters are shown and the respective properties are applied. The steps were described in Figure 19 earlier.
<ul>
<li>Gender (Single Value Dropdown)</li>
<li>Household Size, Household Children, Employment Status (Multiple Values Dropdown)</li>
<li>Age (Change to Continuous, Range of Values) (Figure 42)</li>
</ul></li>
</ul>
<figure>
<img src="https://raw.githubusercontent.com/louischong1990/blog/master/Makeover2/Images/Picture41.png" alt="Figure 42: Filters Part 1" /><figcaption aria-hidden="true">Figure 42: Filters Part 1</figcaption>
</figure>
<ul>
<li>To apply the filters across worksheets, we right click each of the relevant filters (Survey Question, Gender, Age, Household Size, Household Children, Employment Status) and apply it to all using related data sources (Figure 43).</li>
</ul>
<figure>
<img src="https://raw.githubusercontent.com/louischong1990/blog/master/Makeover2/Images/Picture42.png" style="width:80.0%" alt="Figure 43: Filters Part 2" /><figcaption aria-hidden="true">Figure 43: Filters Part 2</figcaption>
</figure>
<ul>
<li>Next, we wish to make the filter interactive i.e. when we click the country in the dot plot with error bars and diverging stacked bar chart, the bar chart (breakdown by demographics) will be filtered accordingly in the dashboard. Figure 44 shows the steps to create this filter, which is under Actions, Add Action, Filter. A filter action will be reflected under Filters, as seen in Figure 45.</li>
</ul>
<figure>
<img src="https://raw.githubusercontent.com/louischong1990/blog/master/Makeover2/Images/Picture43.png" alt="Figure 44: Filters Part 3" /><figcaption aria-hidden="true">Figure 44: Filters Part 3</figcaption>
</figure>
<figure>
<img src="https://raw.githubusercontent.com/louischong1990/blog/master/Makeover2/Images/Picture44.png" style="width:30.0%" alt="Figure 45: Filters Part 4" /><figcaption aria-hidden="true">Figure 45: Filters Part 4</figcaption>
</figure>
<h2 id="dashboard">Dashboard</h2>
<ul>
<li>Finally, the dashboard is created. First, the size is changed to Automatic, as seen in Figure 46.</li>
</ul>
<figure>
<img src="https://raw.githubusercontent.com/louischong1990/blog/master/Makeover2/Images/Picture45.png" style="width:30.0%" alt="Figure 46: Dashboard Part 1" /><figcaption aria-hidden="true">Figure 46: Dashboard Part 1</figcaption>
</figure>
<ul>
<li>The 4 worksheets (Title, Dot Plot with Error Bars, Diverging Stacked Bar Chart, Breakdown) are added to the dashboard. Relevant filters are kept in the dashboard and they are changed to Floating (Figure 47) to allow easy size adjustment.</li>
</ul>
<figure>
<img src="https://raw.githubusercontent.com/louischong1990/blog/master/Makeover2/Images/Picture46.png" style="width:80.0%" alt="Figure 47: Dashboard Part 2" /><figcaption aria-hidden="true">Figure 47: Dashboard Part 2</figcaption>
</figure>
<ul>
<li>The relevant test descriptions are added to the dashboard to direct readers on how to use the dashboard. The data source is labelled by adding a Text object (Figure 48 and 49).</li>
</ul>
<figure>
<img src="https://raw.githubusercontent.com/louischong1990/blog/master/Makeover2/Images/Picture47.png" alt="Figure 48: Dashboard Part 3" /><figcaption aria-hidden="true">Figure 48: Dashboard Part 3</figcaption>
</figure>
<figure>
<img src="https://raw.githubusercontent.com/louischong1990/blog/master/Makeover2/Images/Picture48.png" alt="Figure 49: Dashboard Part 4" /><figcaption aria-hidden="true">Figure 49: Dashboard Part 4</figcaption>
</figure>
<ul>
<li>To allow readers to observe the changes when different filters are applied, the animation is switched on (Figure 50).</li>
</ul>
<figure>
<img src="https://raw.githubusercontent.com/louischong1990/blog/master/Makeover2/Images/Picture49.png" style="width:50.0%" alt="Figure 50: Dashboard Part 5" /><figcaption aria-hidden="true">Figure 50: Dashboard Part 5</figcaption>
</figure>
<ul>
<li>To allow the sorting of the dot plot and diverging stacked bar chart to be synchronised and allow better comparison of survey responses from each country, we go back to the dot plot to create two parameters (Sort By, Sort Order), as seen in Figure 51. Steps to create a parameter was earlier explained in Figure 25.</li>
</ul>
<figure>
<img src="https://raw.githubusercontent.com/louischong1990/blog/master/Makeover2/Images/Picture50.png" alt="Figure 51: Sorting Part 1" /><figcaption aria-hidden="true">Figure 51: Sorting Part 1</figcaption>
</figure>
<ul>
<li>We will also create the following calculated field (as explained in Figure 13):
<ul>
<li>Sort Field: CASE [Sort By] WHEN “Percentage” THEN [Percentage] * [Sort Order] WHEN “Alphabetical” THEN MIN(ASCII([Country])) * [Sort Order] END</li>
</ul></li>
<li>Sort Field is then applied to sort Country in both the dot plot and diverging stacked bar chart (Figure 52).</li>
</ul>
<figure>
<img src="https://raw.githubusercontent.com/louischong1990/blog/master/Makeover2/Images/Picture51.png" style="width:50.0%" alt="Figure 52: Sorting Part 2" /><figcaption aria-hidden="true">Figure 52: Sorting Part 2</figcaption>
</figure>
<h1 id="proposed-data-visualisation-using-tableau">3.0 Proposed Data Visualisation Using Tableau</h1>
<p>Figure 53 shows the dashboard.</p>
<figure>
<img src="https://raw.githubusercontent.com/louischong1990/blog/master/Makeover2/Images/Dashboard.png" alt="Figure 53: Dashboard" /><figcaption aria-hidden="true">Figure 53: Dashboard</figcaption>
</figure>
<h2 id="major-observations">Major Observations</h2>
<ul>
<li>Observation 1: The United Kingdom had the highest percentage of survey respondents that strongly agree to getting Covid-19 vaccine if it’s available this week. Out of the survey respondents aged 55 and above in the United Kingdom, a huge portion strongly agreed (Figure 54 and 55).
<ul>
<li>As compared to the average across countries surveyed (42% of 34,026), the United Kingdom had 68% (2,048) of 3,004 survey respondents that strongly agreed to the statement. This could be because the vaccine is made/tested in UK e.g. AstraZeneca. As such, people in the United Kingdom tend to trust the quality check on the vaccines and are more willing to be vaccinated.</li>
<li>Out of the 1,189 survey respondents aged 55 and above in the United Kingdom, 990 (83%) strongly agreed to the statement. This could be due to the higher Covid-19 fatality rate among older people. Thus, they are generally more willing to be vaccinated as compared to younger people to protect themselves.</li>
</ul></li>
</ul>
<figure>
<img src="https://raw.githubusercontent.com/louischong1990/blog/master/Makeover2/Images/Picture52.png" alt="Figure 54: Observation 1" /><figcaption aria-hidden="true">Figure 54: Observation 1</figcaption>
</figure>
<figure>
<img src="https://raw.githubusercontent.com/louischong1990/blog/master/Makeover2/Images/Picture53.png" alt="Figure 55: Observation 1" /><figcaption aria-hidden="true">Figure 55: Observation 1</figcaption>
</figure>
<ul>
<li>Observation 2: France had the highest percentage of survey respondents that strongly disagree to getting Covid-19 vaccine if it’s available this week. Women are more likely to strongly disagree than men in France (Figure 56 and 57).
<ul>
<li>As compared to the average across countries surveyed (18% of 34,026), France had 36% (1,094) of 3,069 survey respondents that strongly disagreed to the statement. According to <a href="https://www.cnbc.com/2021/01/13/france-swhy-france-is-the-most-vaccine-skeptical-nation-on-earth.html">CNBC</a>, the vaccine skepticism could be due to public distrust in government and far-left and far-right expression of anti-vaccine sentiment.</li>
<li>Out of the 1,094 survey respondents that strongly disagreed, 63% (689) is female. Women are more likely to be hesistant about vaccination than men, possibly due to higher fear of possible side effects.</li>
</ul></li>
</ul>
<figure>
<img src="https://raw.githubusercontent.com/louischong1990/blog/master/Makeover2/Images/Picture54.png" alt="Figure 56: Observation 2" /><figcaption aria-hidden="true">Figure 56: Observation 2</figcaption>
</figure>
<figure>
<img src="https://raw.githubusercontent.com/louischong1990/blog/master/Makeover2/Images/Picture55.png" alt="Figure 57: Observation 2" /><figcaption aria-hidden="true">Figure 57: Observation 2</figcaption>
</figure>
<ul>
<li>Observation 3: Denmark had the highest percentage of survey respondents that strongly agree that the government health authorities will provide them with an effective Covid-19 vaccine. A higher percentage of survey respondents aged 55 and above in Denmark will strongly agree (Figure 58 and 59).
<ul>
<li>As compared to the average across countries surveyed (31% of 34,026), Denmark had 52% (1,034) of 2,001 survey respondents that strongly agreed to the statement. According to <a href="https://www.bloomberg.com/news/articles/2021-01-14/denmark-s-covid-vaccination-program-takes-the-lead-in-eu">Bloomberg</a>, Denmark has one of the most effective Covid Vaccination Program in EU. Throughout the pandemic, there was clear communication with the public over the handling of Covid-19. Thus, people are more willing to place trust in the government health authorities in providing them with an effective Covid-19 vaccine.</li>
<li>The percentage is higher for survey respondents aged 55 and above in Denmark i.e. 65% (524) of 806 strongly agreed to the statement, as compared to 52% for all ages. This shows possibly a higher level of trust by the older people in Denmark in the government health authorities.</li>
</ul></li>
</ul>
<figure>
<img src="https://raw.githubusercontent.com/louischong1990/blog/master/Makeover2/Images/Picture56.png" alt="Figure 58: Observation 3" /><figcaption aria-hidden="true">Figure 58: Observation 3</figcaption>
</figure>
<figure>
<img src="https://raw.githubusercontent.com/louischong1990/blog/master/Makeover2/Images/Picture57.png" alt="Figure 59: Observation 3" /><figcaption aria-hidden="true">Figure 59: Observation 3</figcaption>
</figure>
<div class="sourceCode" id="cb1"><pre class="sourceCode r distill-force-highlighting-css"><code class="sourceCode r"></code></pre></div>
<!--radix_placeholder_article_footer-->
<!--/radix_placeholder_article_footer-->
</div>

<div class="d-appendix">
</div>


<!--radix_placeholder_site_after_body-->
<!--/radix_placeholder_site_after_body-->
<!--radix_placeholder_appendices-->
<div class="appendix-bottom"></div>
<!--/radix_placeholder_appendices-->
<!--radix_placeholder_navigation_after_body-->
<!--/radix_placeholder_navigation_after_body-->

</body>

</html>
